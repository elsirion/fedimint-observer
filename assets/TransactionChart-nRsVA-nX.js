import{r as Ot,j as Ce}from"./index-CCPdrVvR.js";import{_ as N,c as Ee,G as tt,a as ot,S as Oe,e as ke,l as Ve,u as ht,s as ze,i as fe,g as Rt,n as Ze,Z as Ne,b as kt,d as ce,t as xt,f as nt,r as Vt,h as Ge,j as pe,k as Be,m as We,o as pt,p as vt,q as de,v as Q,P as He,w as zt,x as Zt,y as ge,z as L,A as Nt,B as It,C as Gt,D as Bt,E as mt,F as Wt,H as st,I as me,J as Fe,K as Xe,L as R,M as Ue,N as Ye,O as $e,Q as qe,R as Ht,T as je,U as Je,V as Ke,W as Qe,X as ta,Y as ea,$ as ye,a0 as Ft,a1 as ft,a2 as aa,a3 as _e,a4 as j,a5 as be,a6 as Xt,a7 as ra,a8 as Pt,a9 as ia,aa as oa,ab as V,ac as it,ad as na,ae as sa,af as la,ag as Se,ah as ua,ai as Me,aj as Ut,ak as ha,al as va,am as fa,an as lt,ao as ca,ap as Yt,aq as pa,ar as da,as as ga,at as ma,au as $t,av as ya,aw as _a,ax as ba,ay as Tt,az as Sa,aA as Ma,aB as wa,aC as Aa,aD as Da}from"./installCanvasRenderer-DOB9emQO.js";var xa=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return Ee(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var e=new tt,i=ot("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(i),i.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),n=r==="none"?"circle":r,u=t.itemHeight*.8,l=ot(n,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);e.add(l),l.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?o:t.iconRotate||0;return l.rotation=h*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),e},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a})(Oe),Ct=(function(s){N(a,s);function a(t,e,i,r){var o=s.call(this)||this;return o.updateData(t,e,i,r),o}return a.prototype._createSymbol=function(t,e,i,r,o){this.removeAll();var n=ot(t,-1,-1,2,2,null,o);n.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),n.drift=Ia,this._symbolType=t,this.add(n)},a.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},a.prototype.getSymbolType=function(){return this._symbolType},a.prototype.getSymbolPath=function(){return this.childAt(0)},a.prototype.highlight=function(){ke(this.childAt(0))},a.prototype.downplay=function(){Ve(this.childAt(0))},a.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},a.prototype.setDraggable=function(t,e){var i=this.childAt(0);i.draggable=t,i.cursor=!e&&t?"move":i.cursor},a.prototype.updateData=function(t,e,i,r){this.silent=!1;var o=t.getItemVisual(e,"symbol")||"circle",n=t.hostModel,u=a.getSymbolSize(t,e),l=o!==this._symbolType,h=r&&r.disableAnimation;if(l){var v=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(o,t,e,u,v)}else{var f=this.childAt(0);f.silent=!1;var c={scaleX:u[0]/2,scaleY:u[1]/2};h?f.attr(c):ht(f,c,n,e),ze(f)}if(this._updateCommon(t,e,u,i,r),l){var f=this.childAt(0);if(!h){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,fe(f,c,n,e)}}h&&this.childAt(0).stopAnimation("leave")},a.prototype._updateCommon=function(t,e,i,r,o){var n=this.childAt(0),u=t.hostModel,l,h,v,f,c,p,d,y,m;if(r&&(l=r.emphasisItemStyle,h=r.blurItemStyle,v=r.selectItemStyle,f=r.focus,c=r.blurScope,d=r.labelStatesModels,y=r.hoverScale,m=r.cursorStyle,p=r.emphasisDisabled),!r||t.hasItemOption){var g=r&&r.itemModel?r.itemModel:t.getItemModel(e),_=g.getModel("emphasis");l=_.getModel("itemStyle").getItemStyle(),v=g.getModel(["select","itemStyle"]).getItemStyle(),h=g.getModel(["blur","itemStyle"]).getItemStyle(),f=_.get("focus"),c=_.get("blurScope"),p=_.get("disabled"),d=Rt(g),y=_.getShallow("scale"),m=g.getShallow("cursor")}var M=t.getItemVisual(e,"symbolRotate");n.attr("rotation",(M||0)*Math.PI/180||0);var b=Ze(t.getItemVisual(e,"symbolOffset"),i);b&&(n.x=b[0],n.y=b[1]),m&&n.attr("cursor",m);var w=t.getItemVisual(e,"style"),S=w.fill;if(n instanceof Ne){var P=n.style;n.useStyle(kt({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},w))}else n.__isEmptyBrush?n.useStyle(kt({},w)):n.useStyle(w),n.style.decal=null,n.setColor(S,o&&o.symbolInnerColor),n.style.strokeNoScale=!0;var A=t.getItemVisual(e,"liftZ"),x=this._z2;A!=null?x==null&&(this._z2=n.z2,n.z2+=A):x!=null&&(n.z2=x,this._z2=null);var D=o&&o.useNameLabel;ce(n,d,{labelFetcher:u,labelDataIndex:e,defaultText:I,inheritColor:S,defaultOpacity:w.opacity});function I(O){return D?t.getName(O):pe(t,O)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=n.ensureState("emphasis");T.style=l,n.ensureState("select").style=v,n.ensureState("blur").style=h;var z=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;T.scaleX=this._sizeX*z,T.scaleY=this._sizeY*z,this.setSymbolScale(1),xt(this,f,c,p)},a.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},a.prototype.fadeOut=function(t,e,i){var r=this.childAt(0),o=nt(this).dataIndex,n=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var u=r.getTextContent();u&&Vt(u,{style:{opacity:0}},e,{dataIndex:o,removeOpt:n,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Vt(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:n})},a.getSymbolSize=function(t,e){return Ge(t.getItemVisual(e,"symbolSize"))},a})(tt);function Ia(s,a){this.parent.drift(s,a)}function yt(s,a,t,e){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(e.isIgnore&&e.isIgnore(t))&&!(e.clipShape&&!e.clipShape.contain(a[0],a[1]))&&s.getItemVisual(t,"symbol")!=="none"}function qt(s){return s!=null&&!We(s)&&(s={isIgnore:s}),s||{}}function jt(s){var a=s.hostModel,t=a.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:a.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:a.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Rt(a),cursorStyle:a.get("cursor")}}var Pa=(function(){function s(a){this.group=new tt,this._SymbolCtor=a||Ct}return s.prototype.updateData=function(a,t){this._progressiveEls=null,t=qt(t);var e=this.group,i=a.hostModel,r=this._data,o=this._SymbolCtor,n=t.disableAnimation,u=jt(a),l={disableAnimation:n},h=t.getSymbolPoint||function(v){return a.getItemLayout(v)};r||e.removeAll(),a.diff(r).add(function(v){var f=h(v);if(yt(a,f,v,t)){var c=new o(a,v,u,l);c.setPosition(f),a.setItemGraphicEl(v,c),e.add(c)}}).update(function(v,f){var c=r.getItemGraphicEl(f),p=h(v);if(!yt(a,p,v,t)){e.remove(c);return}var d=a.getItemVisual(v,"symbol")||"circle",y=c&&c.getSymbolType&&c.getSymbolType();if(!c||y&&y!==d)e.remove(c),c=new o(a,v,u,l),c.setPosition(p);else{c.updateData(a,v,u,l);var m={x:p[0],y:p[1]};n?c.attr(m):ht(c,m,i)}e.add(c),a.setItemGraphicEl(v,c)}).remove(function(v){var f=r.getItemGraphicEl(v);f&&f.fadeOut(function(){e.remove(f)},i)}).execute(),this._getSymbolPoint=h,this._data=a},s.prototype.updateLayout=function(){var a=this,t=this._data;t&&t.eachItemGraphicEl(function(e,i){var r=a._getSymbolPoint(i);e.setPosition(r),e.markRedraw()})},s.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=jt(a),this._data=null,this.group.removeAll()},s.prototype.incrementalUpdate=function(a,t,e){this._progressiveEls=[],e=qt(e);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var r=a.start;r<a.end;r++){var o=t.getItemLayout(r);if(yt(t,o,r,e)){var n=new this._SymbolCtor(t,r,this._seriesScope);n.traverse(i),n.setPosition(o),this.group.add(n),t.setItemGraphicEl(r,n),this._progressiveEls.push(n)}}},s.prototype.eachRendered=function(a){Be(this._progressiveEls||this.group,a)},s.prototype.remove=function(a){var t=this.group,e=this._data;e&&a?e.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},e.hostModel)}):t.removeAll()},s})();function we(s,a,t){var e=s.getBaseAxis(),i=s.getOtherAxis(e),r=Ta(i,t),o=e.dim,n=i.dim,u=a.mapDimension(n),l=a.mapDimension(o),h=n==="x"||n==="radius"?1:0,v=pt(s.dimensions,function(p){return a.mapDimension(p)}),f=!1,c=a.getCalculationInfo("stackResultDimension");return vt(a,v[0])&&(f=!0,v[0]=c),vt(a,v[1])&&(f=!0,v[1]=c),{dataDimsForPoint:v,valueStart:r,valueAxisDim:n,baseAxisDim:o,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:h,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function Ta(s,a){var t=0,e=s.scale.getExtent();return a==="start"?t=e[0]:a==="end"?t=e[1]:de(a)&&!isNaN(a)?t=a:e[0]>0?t=e[0]:e[1]<0&&(t=e[1]),t}function Ae(s,a,t,e){var i=NaN;s.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),e)),isNaN(i)&&(i=s.valueStart);var r=s.baseDataOffset,o=[];return o[r]=t.get(s.baseDim,e),o[1-r]=i,a.dataToPoint(o)}function La(s,a){var t=[];return a.diff(s).add(function(e){t.push({cmd:"+",idx:e})}).update(function(e,i){t.push({cmd:"=",idx:i,idx1:e})}).remove(function(e){t.push({cmd:"-",idx:e})}).execute(),t}function Ra(s,a,t,e,i,r,o,n){for(var u=La(s,a),l=[],h=[],v=[],f=[],c=[],p=[],d=[],y=we(i,a,o),m=s.getLayout("points")||[],g=a.getLayout("points")||[],_=0;_<u.length;_++){var M=u[_],b=!0,w=void 0,S=void 0;switch(M.cmd){case"=":w=M.idx*2,S=M.idx1*2;var P=m[w],A=m[w+1],x=g[S],D=g[S+1];(isNaN(P)||isNaN(A))&&(P=x,A=D),l.push(P,A),h.push(x,D),v.push(t[w],t[w+1]),f.push(e[S],e[S+1]),d.push(a.getRawIndex(M.idx1));break;case"+":var I=M.idx,T=y.dataDimsForPoint,z=i.dataToPoint([a.get(T[0],I),a.get(T[1],I)]);S=I*2,l.push(z[0],z[1]),h.push(g[S],g[S+1]);var O=Ae(y,i,a,I);v.push(O[0],O[1]),f.push(e[S],e[S+1]),d.push(a.getRawIndex(I));break;case"-":b=!1}b&&(c.push(M),p.push(p.length))}p.sort(function(Z,gt){return d[Z]-d[gt]});for(var k=l.length,W=Q(k),C=Q(k),E=Q(k),H=Q(k),F=[],_=0;_<p.length;_++){var et=p[_],G=_*2,B=et*2;W[G]=l[B],W[G+1]=l[B+1],C[G]=h[B],C[G+1]=h[B+1],E[G]=v[B],E[G+1]=v[B+1],H[G]=f[B],H[G+1]=f[B+1],F[_]=c[et]}return{current:W,next:C,stackedOnCurrent:E,stackedOnNext:H,status:F}}var X=Math.min,U=Math.max;function q(s,a){return isNaN(s)||isNaN(a)}function Lt(s,a,t,e,i,r,o,n,u){for(var l,h,v,f,c,p,d=t,y=0;y<e;y++){var m=a[d*2],g=a[d*2+1];if(d>=i||d<0)break;if(q(m,g)){if(u){d+=r;continue}break}if(d===t)s[r>0?"moveTo":"lineTo"](m,g),v=m,f=g;else{var _=m-l,M=g-h;if(_*_+M*M<.5){d+=r;continue}if(o>0){for(var b=d+r,w=a[b*2],S=a[b*2+1];w===m&&S===g&&y<e;)y++,b+=r,d+=r,w=a[b*2],S=a[b*2+1],m=a[d*2],g=a[d*2+1],_=m-l,M=g-h;var P=y+1;if(u)for(;q(w,S)&&P<e;)P++,b+=r,w=a[b*2],S=a[b*2+1];var A=.5,x=0,D=0,I=void 0,T=void 0;if(P>=e||q(w,S))c=m,p=g;else{x=w-l,D=S-h;var z=m-l,O=w-m,k=g-h,W=S-g,C=void 0,E=void 0;if(n==="x"){C=Math.abs(z),E=Math.abs(O);var H=x>0?1:-1;c=m-H*C*o,p=g,I=m+H*E*o,T=g}else if(n==="y"){C=Math.abs(k),E=Math.abs(W);var F=D>0?1:-1;c=m,p=g-F*C*o,I=m,T=g+F*E*o}else C=Math.sqrt(z*z+k*k),E=Math.sqrt(O*O+W*W),A=E/(E+C),c=m-x*o*(1-A),p=g-D*o*(1-A),I=m+x*o*A,T=g+D*o*A,I=X(I,U(w,m)),T=X(T,U(S,g)),I=U(I,X(w,m)),T=U(T,X(S,g)),x=I-m,D=T-g,c=m-x*C/E,p=g-D*C/E,c=X(c,U(l,m)),p=X(p,U(h,g)),c=U(c,X(l,m)),p=U(p,X(h,g)),x=m-c,D=g-p,I=m+x*E/C,T=g+D*E/C}s.bezierCurveTo(v,f,c,p,m,g),v=I,f=T}else s.lineTo(m,g)}l=m,h=g,d+=r}return y}var De=(function(){function s(){this.smooth=0,this.smoothConstraint=!0}return s})(),Ca=(function(s){N(a,s);function a(t){var e=s.call(this,t)||this;return e.type="ec-polyline",e}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new De},a.prototype.buildPath=function(t,e){var i=e.points,r=0,o=i.length/2;if(e.connectNulls){for(;o>0&&q(i[o*2-2],i[o*2-1]);o--);for(;r<o&&q(i[r*2],i[r*2+1]);r++);}for(;r<o;)r+=Lt(t,i,r,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},a.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,r=i.data,o=He.CMD,n,u,l=e==="x",h=[],v=0;v<r.length;){var f=r[v++],c=void 0,p=void 0,d=void 0,y=void 0,m=void 0,g=void 0,_=void 0;switch(f){case o.M:n=r[v++],u=r[v++];break;case o.L:if(c=r[v++],p=r[v++],_=l?(t-n)/(c-n):(t-u)/(p-u),_<=1&&_>=0){var M=l?(p-u)*_+u:(c-n)*_+n;return l?[t,M]:[M,t]}n=c,u=p;break;case o.C:c=r[v++],p=r[v++],d=r[v++],y=r[v++],m=r[v++],g=r[v++];var b=l?zt(n,c,d,m,t,h):zt(u,p,y,g,t,h);if(b>0)for(var w=0;w<b;w++){var S=h[w];if(S<=1&&S>=0){var M=l?Zt(u,p,y,g,S):Zt(n,c,d,m,S);return l?[t,M]:[M,t]}}n=m,u=g;break}}},a})(ge),Ea=(function(s){N(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a})(De),Oa=(function(s){N(a,s);function a(t){var e=s.call(this,t)||this;return e.type="ec-polygon",e}return a.prototype.getDefaultShape=function(){return new Ea},a.prototype.buildPath=function(t,e){var i=e.points,r=e.stackedOnPoints,o=0,n=i.length/2,u=e.smoothMonotone;if(e.connectNulls){for(;n>0&&q(i[n*2-2],i[n*2-1]);n--);for(;o<n&&q(i[o*2],i[o*2+1]);o++);}for(;o<n;){var l=Lt(t,i,o,n,n,1,e.smooth,u,e.connectNulls);Lt(t,r,o+l-1,l,n,-1,e.stackedOnSmooth,u,e.connectNulls),o+=l+1,t.closePath()}},a})(ge);function Jt(s,a){if(s.length===a.length){for(var t=0;t<s.length;t++)if(s[t]!==a[t])return;return!0}}function Kt(s){for(var a=1/0,t=1/0,e=-1/0,i=-1/0,r=0;r<s.length;){var o=s[r++],n=s[r++];isNaN(o)||(a=Math.min(o,a),e=Math.max(o,e)),isNaN(n)||(t=Math.min(n,t),i=Math.max(n,i))}return[[a,t],[e,i]]}function Qt(s,a){var t=Kt(s),e=t[0],i=t[1],r=Kt(a),o=r[0],n=r[1];return Math.max(Math.abs(e[0]-o[0]),Math.abs(e[1]-o[1]),Math.abs(i[0]-n[0]),Math.abs(i[1]-n[1]))}function te(s){return de(s)?s:s?.5:0}function ka(s,a,t){if(!t.valueDim)return[];for(var e=a.count(),i=Q(e*2),r=0;r<e;r++){var o=Ae(t,s,a,r);i[r*2]=o[0],i[r*2+1]=o[1]}return i}function Y(s,a,t,e,i){var r=t.getBaseAxis(),o=r.dim==="x"||r.dim==="radius"?0:1,n=[],u=0,l=[],h=[],v=[],f=[];if(i){for(u=0;u<s.length;u+=2){var c=a||s;!isNaN(c[u])&&!isNaN(c[u+1])&&f.push(s[u],s[u+1])}s=f}for(u=0;u<s.length-2;u+=2)switch(v[0]=s[u+2],v[1]=s[u+3],h[0]=s[u],h[1]=s[u+1],n.push(h[0],h[1]),e){case"end":l[o]=v[o],l[1-o]=h[1-o],n.push(l[0],l[1]);break;case"middle":var p=(h[o]+v[o])/2,d=[];l[o]=d[o]=p,l[1-o]=h[1-o],d[1-o]=v[1-o],n.push(l[0],l[1]),n.push(d[0],d[1]);break;default:l[o]=h[o],l[1-o]=v[1-o],n.push(l[0],l[1])}return n.push(s[u++],s[u++]),n}function Va(s,a){var t=[],e=s.length,i,r;function o(h,v,f){var c=h.coord,p=(f-c)/(v.coord-c),d=je(p,[h.color,v.color]);return{coord:f,color:d}}for(var n=0;n<e;n++){var u=s[n],l=u.coord;if(l<0)i=u;else if(l>a){r?t.push(o(r,u,a)):i&&t.push(o(i,u,0),o(i,u,a));break}else i&&(t.push(o(i,u,0)),i=null),t.push(u),r=u}return t}function za(s,a,t){var e=s.getVisual("visualMeta");if(!(!e||!e.length||!s.count())&&a.type==="cartesian2d"){for(var i,r,o=e.length-1;o>=0;o--){var n=s.getDimensionInfo(e[o].dimension);if(i=n&&n.coordDim,i==="x"||i==="y"){r=e[o];break}}if(r){var u=a.getAxis(i),l=pt(r.stops,function(_){return{coord:u.toGlobalCoord(u.dataToCoord(_.value)),color:_.color}}),h=l.length,v=r.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),v.reverse());var f=Va(l,i==="x"?t.getWidth():t.getHeight()),c=f.length;if(!c&&h)return l[0].coord<0?v[1]?v[1]:l[h-1].color:v[0]?v[0]:l[0].color;var p=10,d=f[0].coord-p,y=f[c-1].coord+p,m=y-d;if(m<.001)return"transparent";R(f,function(_){_.offset=(_.coord-d)/m}),f.push({offset:c?f[c-1].offset:.5,color:v[1]||"transparent"}),f.unshift({offset:c?f[0].offset:.5,color:v[0]||"transparent"});var g=new Ue(0,0,0,0,f,!0);return g[i]=d,g[i+"2"]=y,g}}}function Za(s,a,t){var e=s.get("showAllSymbol"),i=e==="auto";if(!(e&&!i)){var r=t.getAxesByScale("ordinal")[0];if(r&&!(i&&Na(r,a))){var o=a.mapDimension(r.dim),n={};return R(r.getViewLabels(),function(u){var l=r.scale.getRawOrdinalNumber(u.tickValue);n[l]=1}),function(u){return!n.hasOwnProperty(a.get(o,u))}}}}function Na(s,a){var t=s.getExtent(),e=Math.abs(t[1]-t[0])/s.scale.count();isNaN(e)&&(e=0);for(var i=a.count(),r=Math.max(1,Math.round(i/5)),o=0;o<i;o+=r)if(Ct.getSymbolSize(a,o)[s.isHorizontal()?1:0]*1.5>e)return!1;return!0}function Ga(s,a){return isNaN(s)||isNaN(a)}function Ba(s){for(var a=s.length/2;a>0&&Ga(s[a*2-2],s[a*2-1]);a--);return a-1}function ee(s,a){return[s[a*2],s[a*2+1]]}function Wa(s,a,t){for(var e=s.length/2,i=t==="x"?0:1,r,o,n=0,u=-1,l=0;l<e;l++)if(o=s[l*2+i],!(isNaN(o)||isNaN(s[l*2+1-i]))){if(l===0){r=o;continue}if(r<=a&&o>=a||r>=a&&o<=a){u=l;break}n=l,r=o}return{range:[n,u],t:(a-r)/(o-r)}}function xe(s){if(s.get(["endLabel","show"]))return!0;for(var a=0;a<Ht.length;a++)if(s.get([Ht[a],"endLabel","show"]))return!0;return!1}function _t(s,a,t,e){if(Ye(a,"cartesian2d")){var i=e.getModel("endLabel"),r=i.get("valueAnimation"),o=e.getData(),n={lastFrameIndex:0},u=xe(e)?function(c,p){s._endLabelOnDuring(c,p,o,n,r,i,a)}:null,l=a.getBaseAxis().isHorizontal(),h=$e(a,t,e,function(){var c=s._endLabel;c&&t&&n.originalX!=null&&c.attr({x:n.originalX,y:n.originalY})},u);if(!e.get("clip",!0)){var v=h.shape,f=Math.max(v.width,v.height);l?(v.y-=f,v.height+=f*2):(v.x-=f,v.width+=f*2)}return u&&u(1,h),h}else return qe(a,t,e)}function Ha(s,a){var t=a.getBaseAxis(),e=t.isHorizontal(),i=t.inverse,r=e?i?"right":"left":"center",o=e?"middle":i?"top":"bottom";return{normal:{align:s.get("align")||r,verticalAlign:s.get("verticalAlign")||o}}}var Fa=(function(s){N(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.init=function(){var t=new tt,e=new Pa;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=L(this._changePolyState,this)},a.prototype.render=function(t,e,i){var r=t.coordinateSystem,o=this.group,n=t.getData(),u=t.getModel("lineStyle"),l=t.getModel("areaStyle"),h=n.getLayout("points")||[],v=r.type==="polar",f=this._coordSys,c=this._symbolDraw,p=this._polyline,d=this._polygon,y=this._lineGroup,m=!e.ssr&&t.get("animation"),g=!l.isEmpty(),_=l.get("origin"),M=we(r,n,_),b=g&&ka(r,n,M),w=t.get("showSymbol"),S=t.get("connectNulls"),P=w&&!v&&Za(t,n,r),A=this._data;A&&A.eachItemGraphicEl(function(Z,gt){Z.__temp&&(o.remove(Z),A.setItemGraphicEl(gt,null))}),w||c.remove(),o.add(y);var x=v?!1:t.get("step"),D;r&&r.getArea&&t.get("clip",!0)&&(D=r.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var I=za(n,r,i)||n.getVisual("style")[n.getVisual("drawType")];if(!(p&&f.type===r.type&&x===this._step))w&&c.updateData(n,{isIgnore:P,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[h[Z*2],h[Z*2+1]]}}),m&&this._initSymbolLabelAnimation(n,r,D),x&&(b&&(b=Y(b,h,r,x,S)),h=Y(h,null,r,x,S)),p=this._newPolyline(h),g?d=this._newPolygon(h,b):d&&(y.remove(d),d=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,Nt(I)),y.setClipPath(_t(this,r,!0,t));else{g&&!d?d=this._newPolygon(h,b):d&&!g&&(y.remove(d),d=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,Nt(I));var T=y.getClipPath();if(T){var z=_t(this,r,!1,t);fe(T,{shape:z.shape},t)}else y.setClipPath(_t(this,r,!0,t));w&&c.updateData(n,{isIgnore:P,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[h[Z*2],h[Z*2+1]]}}),(!Jt(this._stackedOnPoints,b)||!Jt(this._points,h))&&(m?this._doUpdateAnimation(n,b,r,i,x,_,S):(x&&(b&&(b=Y(b,h,r,x,S)),h=Y(h,null,r,x,S)),p.setShape({points:h}),d&&d.setShape({points:h,stackedOnPoints:b})))}var O=t.getModel("emphasis"),k=O.get("focus"),W=O.get("blurScope"),C=O.get("disabled");if(p.useStyle(It(u.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),Gt(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var E=p.getState("emphasis").style;E.lineWidth=+p.style.lineWidth+1}nt(p).seriesIndex=t.seriesIndex,xt(p,k,W,C);var H=te(t.get("smooth")),F=t.get("smoothMonotone");if(p.setShape({smooth:H,smoothMonotone:F,connectNulls:S}),d){var et=n.getCalculationInfo("stackedOnSeries"),G=0;d.useStyle(It(l.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:n.getVisual("style").decal})),et&&(G=te(et.get("smooth"))),d.setShape({smooth:H,stackedOnSmooth:G,smoothMonotone:F,connectNulls:S}),Gt(d,t,"areaStyle"),nt(d).seriesIndex=t.seriesIndex,xt(d,k,W,C)}var B=this._changePolyState;n.eachItemGraphicEl(function(Z){Z&&(Z.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=n,this._coordSys=r,this._stackedOnPoints=b,this._points=h,this._step=x,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,p),d&&this.packEventData(t,d))},a.prototype.packEventData=function(t,e){nt(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,e,i,r){var o=t.getData(),n=Bt(o,r);if(this._changePolyState("emphasis"),!(n instanceof Array)&&n!=null&&n>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(n);if(!l){var h=u[n*2],v=u[n*2+1];if(isNaN(h)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,v))return;var f=t.get("zlevel")||0,c=t.get("z")||0;l=new Ct(o,n),l.x=h,l.y=v,l.setZ(f,c);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=c,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(n,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else mt.prototype.highlight.call(this,t,e,i,r)},a.prototype.downplay=function(t,e,i,r){var o=t.getData(),n=Bt(o,r);if(this._changePolyState("normal"),n!=null&&n>=0){var u=o.getItemGraphicEl(n);u&&(u.__temp?(o.setItemGraphicEl(n,null),this.group.remove(u)):u.downplay())}else mt.prototype.downplay.call(this,t,e,i,r)},a.prototype._changePolyState=function(t){var e=this._polygon;Wt(this._polyline,t),e&&Wt(e,t)},a.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Ca({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},a.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Oa({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},a.prototype._initSymbolLabelAnimation=function(t,e,i){var r,o,n=e.getBaseAxis(),u=n.inverse;e.type==="cartesian2d"?(r=n.isHorizontal(),o=!1):e.type==="polar"&&(r=n.dim==="angle",o=!0);var l=t.hostModel,h=l.get("animationDuration");st(h)&&(h=h(null));var v=l.get("animationDelay")||0,f=st(v)?v(null):v;t.eachItemGraphicEl(function(c,p){var d=c;if(d){var y=[c.x,c.y],m=void 0,g=void 0,_=void 0;if(i)if(o){var M=i,b=e.pointToCoord(y);r?(m=M.startAngle,g=M.endAngle,_=-b[1]/180*Math.PI):(m=M.r0,g=M.r,_=b[0])}else{var w=i;r?(m=w.x,g=w.x+w.width,_=c.x):(m=w.y+w.height,g=w.y,_=c.y)}var S=g===m?0:(_-m)/(g-m);u&&(S=1-S);var P=st(v)?v(p):h*S+f,A=d.getSymbolPath(),x=A.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:P}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:P}),A.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,e,i){var r=t.getModel("endLabel");if(xe(t)){var o=t.getData(),n=this._polyline,u=o.getLayout("points");if(!u){n.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new me({z2:200}),l.ignoreClip=!0,n.setTextContent(this._endLabel),n.disableLabelAnimation=!0);var h=Ba(u);h>=0&&(ce(n,Rt(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:h,defaultText:function(v,f,c){return c!=null?Je(o,c):pe(o,v)},enableTextSetter:!0},Ha(r,e)),n.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,e,i,r,o,n,u){var l=this._endLabel,h=this._polyline;if(l){t<1&&r.originalX==null&&(r.originalX=l.x,r.originalY=l.y);var v=i.getLayout("points"),f=i.hostModel,c=f.get("connectNulls"),p=n.get("precision"),d=n.get("distance")||0,y=u.getBaseAxis(),m=y.isHorizontal(),g=y.inverse,_=e.shape,M=g?m?_.x:_.y+_.height:m?_.x+_.width:_.y,b=(m?d:0)*(g?-1:1),w=(m?0:-d)*(g?-1:1),S=m?"x":"y",P=Wa(v,M,S),A=P.range,x=A[1]-A[0],D=void 0;if(x>=1){if(x>1&&!c){var I=ee(v,A[0]);l.attr({x:I[0]+b,y:I[1]+w}),o&&(D=f.getRawValue(A[0]))}else{var I=h.getPointOn(M,S);I&&l.attr({x:I[0]+b,y:I[1]+w});var T=f.getRawValue(A[0]),z=f.getRawValue(A[1]);o&&(D=Fe(i,p,T,z,P.t))}r.lastFrameIndex=A[0]}else{var O=t===1||r.lastFrameIndex>0?A[0]:0,I=ee(v,O);o&&(D=f.getRawValue(O)),l.attr({x:I[0]+b,y:I[1]+w})}if(o){var k=Xe(l);typeof k.setLabelText=="function"&&k.setLabelText(D)}}},a.prototype._doUpdateAnimation=function(t,e,i,r,o,n,u){var l=this._polyline,h=this._polygon,v=t.hostModel,f=Ra(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin),c=f.current,p=f.stackedOnCurrent,d=f.next,y=f.stackedOnNext;if(o&&(p=Y(f.stackedOnCurrent,f.current,i,o,u),c=Y(f.current,null,i,o,u),y=Y(f.stackedOnNext,f.next,i,o,u),d=Y(f.next,null,i,o,u)),Qt(c,d)>3e3||h&&Qt(p,y)>3e3){l.stopAnimation(),l.setShape({points:d}),h&&(h.stopAnimation(),h.setShape({points:d,stackedOnPoints:y}));return}l.shape.__points=f.current,l.shape.points=c;var m={shape:{points:d}};f.current!==c&&(m.shape.__points=f.next),l.stopAnimation(),ht(l,m,v),h&&(h.setShape({points:c,stackedOnPoints:p}),h.stopAnimation(),ht(h,{shape:{stackedOnPoints:y}},v),l.shape.points!==h.shape.points&&(h.shape.points=l.shape.points));for(var g=[],_=f.status,M=0;M<_.length;M++){var b=_[M].cmd;if(b==="="){var w=t.getItemGraphicEl(_[M].idx1);w&&g.push({el:w,ptIdx:M})}}l.animators&&l.animators.length&&l.animators[0].during(function(){h&&h.dirtyShape();for(var S=l.shape.__points,P=0;P<g.length;P++){var A=g[P].el,x=g[P].ptIdx*2;A.x=S[x],A.y=S[x+1],A.markRedraw()}})},a.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(r,o){r.__temp&&(e.remove(r),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a})(mt);function Xa(s,a){return{seriesType:s,plan:Ke(),reset:function(t){var e=t.getData(),i=t.coordinateSystem;if(t.pipelineContext,!!i){var r=pt(i.dimensions,function(v){return e.mapDimension(v)}).slice(0,2),o=r.length,n=e.getCalculationInfo("stackResultDimension");vt(e,r[0])&&(r[0]=n),vt(e,r[1])&&(r[1]=n);var u=e.getStore(),l=e.getDimensionIndex(r[0]),h=e.getDimensionIndex(r[1]);return o&&{progress:function(v,f){for(var c=v.end-v.start,p=Q(c*o),d=[],y=[],m=v.start,g=0;m<v.end;m++){var _=void 0;if(o===1){var M=u.get(l,m);_=i.dataToPoint(M,null,y)}else d[0]=u.get(l,m),d[1]=u.get(h,m),_=i.dataToPoint(d,null,y);p[g++]=_[0],p[g++]=_[1]}f.setLayout("points",p)}}}}}}function Ua(s){s.registerChartView(Fa),s.registerSeriesModel(xa),s.registerLayout(Xa("line")),s.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),e=a.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",e)}}),s.registerProcessor(s.PRIORITY.PROCESSOR.STATISTIC,Qe("line"))}var ae="\0_ec_interaction_mutex";function re(s,a){return!!Ya(s)[a]}function Ya(s){return s[ae]||(s[ae]={})}ta({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ea);var $a=(function(s){N(a,s);function a(t){var e=s.call(this)||this;e._zr=t;var i=L(e._mousedownHandler,e),r=L(e._mousemoveHandler,e),o=L(e._mouseupHandler,e),n=L(e._mousewheelHandler,e),u=L(e._pinchHandler,e);return e.enable=function(l,h){this.disable(),this._opt=It(ye(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),l==null&&(l=!0),(l===!0||l==="move"||l==="pan")&&(t.on("mousedown",i),t.on("mousemove",r),t.on("mouseup",o)),(l===!0||l==="scale"||l==="zoom")&&(t.on("mousewheel",n),t.on("pinch",u))},e.disable=function(){t.off("mousedown",i),t.off("mousemove",r),t.off("mouseup",o),t.off("mousewheel",n),t.off("pinch",u)},e}return a.prototype.isDragging=function(){return this._dragging},a.prototype.isPinching=function(){return this._pinching},a.prototype.setPointerChecker=function(t){this.pointerChecker=t},a.prototype.dispose=function(){this.disable()},a.prototype._mousedownHandler=function(t){if(!Ft(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var i=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},a.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!ut("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||re(this._zr,"globalPan"))){var e=t.offsetX,i=t.offsetY,r=this._x,o=this._y,n=e-r,u=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&ft(t.event),Ie(this,"pan","moveOnMouseMove",t,{dx:n,dy:u,oldX:r,oldY:o,newX:e,newY:i,isAvailableBehavior:null})}},a.prototype._mouseupHandler=function(t){Ft(t)||(this._dragging=!1)},a.prototype._mousewheelHandler=function(t){var e=ut("zoomOnMouseWheel",t,this._opt),i=ut("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,o=Math.abs(r),n=t.offsetX,u=t.offsetY;if(!(r===0||!e&&!i)){if(e){var l=o>3?1.4:o>1?1.2:1.1,h=r>0?l:1/l;bt(this,"zoom","zoomOnMouseWheel",t,{scale:h,originX:n,originY:u,isAvailableBehavior:null})}if(i){var v=Math.abs(r),f=(r>0?1:-1)*(v>3?.4:v>1?.15:.05);bt(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:n,originY:u,isAvailableBehavior:null})}}},a.prototype._pinchHandler=function(t){if(!re(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;bt(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},a})(aa);function bt(s,a,t,e,i){s.pointerChecker&&s.pointerChecker(e,i.originX,i.originY)&&(ft(e.event),Ie(s,a,t,e,i))}function Ie(s,a,t,e,i){i.isAvailableBehavior=L(ut,null,t,e),s.trigger(a,i)}function ut(s,a,t){var e=t[s];return!s||e&&(!_e(e)||a.event[e+"Key"])}function dt(s,a,t,e,i,r){s=s||0;var o=t[1]-t[0];if(i!=null&&(i=J(i,[0,o])),r!=null&&(r=Math.max(r,i??0)),e==="all"){var n=Math.abs(a[1]-a[0]);n=J(n,[0,o]),i=r=J(n,[i,r]),e=0}a[0]=J(a[0],t),a[1]=J(a[1],t);var u=St(a,e);a[e]+=s;var l=i||0,h=t.slice();u.sign<0?h[0]+=l:h[1]-=l,a[e]=J(a[e],h);var v;return v=St(a,e),i!=null&&(v.sign!==u.sign||v.span<i)&&(a[1-e]=a[e]+u.sign*i),v=St(a,e),r!=null&&v.span>r&&(a[1-e]=a[e]+v.sign*r),a}function St(s,a){var t=s[a]-s[1-a];return{span:Math.abs(t),sign:t>0?-1:t<0?1:a?-1:1}}function J(s,a){return Math.min(a[1]!=null?a[1]:1/0,Math.max(a[0]!=null?a[0]:-1/0,s))}var ie=["x","y","radius","angle","single"],qa=["cartesian2d","polar","singleAxis"];function ja(s){var a=s.get("coordinateSystem");return be(qa,a)>=0}function $(s){return s+"Axis"}function Ja(s,a){var t=j(),e=[],i=j();s.eachComponent({mainType:"dataZoom",query:a},function(h){i.get(h.uid)||n(h)});var r;do r=!1,s.eachComponent("dataZoom",o);while(r);function o(h){!i.get(h.uid)&&u(h)&&(n(h),r=!0)}function n(h){i.set(h.uid,!0),e.push(h),l(h)}function u(h){var v=!1;return h.eachTargetAxis(function(f,c){var p=t.get(f);p&&p[c]&&(v=!0)}),v}function l(h){h.eachTargetAxis(function(v,f){(t.get(v)||t.set(v,[]))[f]=!0})}return e}function Pe(s){var a=s.ecModel,t={infoList:[],infoMap:j()};return s.eachTargetAxis(function(e,i){var r=a.getComponent($(e),i);if(r){var o=r.getCoordSysModel();if(o){var n=o.uid,u=t.infoMap.get(n);u||(u={model:o,axisModels:[]},t.infoList.push(u),t.infoMap.set(n,u)),u.axisModels.push(r)}}}),t}var Mt=(function(){function s(){this.indexList=[],this.indexMap=[]}return s.prototype.add=function(a){this.indexMap[a]||(this.indexList.push(a),this.indexMap[a]=!0)},s})(),ct=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return a.prototype.init=function(t,e,i){var r=oe(t);this.settledOption=r,this.mergeDefaultAndTheme(t,i),this._doInit(r)},a.prototype.mergeOption=function(t){var e=oe(t);Xt(this.option,t,!0),Xt(this.settledOption,e,!0),this._doInit(e)},a.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;R([["start","startValue"],["end","endValue"]],function(r,o){this._rangePropMode[o]==="value"&&(e[r[0]]=i[r[0]]=null)},this),this._resetTarget()},a.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=j(),i=this._fillSpecifiedTargetAxis(e);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},a.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return R(ie,function(i){var r=this.getReferringComponents($(i),ra);if(r.specified){e=!0;var o=new Mt;R(r.models,function(n){o.add(n.componentIndex)}),t.set(i,o)}},this),e},a.prototype._fillAutoTargetAxisByOrient=function(t,e){var i=this.ecModel,r=!0;if(r){var o=e==="vertical"?"y":"x",n=i.findComponents({mainType:o+"Axis"});u(n,o)}if(r){var n=i.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===e}});u(n,"single")}function u(l,h){var v=l[0];if(v){var f=new Mt;if(f.add(v.componentIndex),t.set(h,f),r=!1,h==="x"||h==="y"){var c=v.getReferringComponents("grid",Pt).models[0];c&&R(l,function(p){v.componentIndex!==p.componentIndex&&c===p.getReferringComponents("grid",Pt).models[0]&&f.add(p.componentIndex)})}}}r&&R(ie,function(l){if(r){var h=i.findComponents({mainType:$(l),filter:function(f){return f.get("type",!0)==="category"}});if(h[0]){var v=new Mt;v.add(h[0].componentIndex),t.set(l,v),r=!1}}},this)},a.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),t==="y"?"vertical":"horizontal"},a.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},a.prototype._updateRangeUse=function(t){var e=this._rangePropMode,i=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],function(r,o){var n=t[r[0]]!=null,u=t[r[1]]!=null;n&&!u?e[o]="percent":!n&&u?e[o]="value":i?e[o]=i[o]:n&&(e[o]="percent")})},a.prototype.noTarget=function(){return this._noTarget},a.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,i){t==null&&(t=this.ecModel.getComponent($(e),i))},this),t},a.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(i,r){R(i.indexList,function(o){t.call(e,r,o)})})},a.prototype.getAxisProxy=function(t,e){var i=this.getAxisModel(t,e);if(i)return i.__dzAxisProxy},a.prototype.getAxisModel=function(t,e){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[e])return this.ecModel.getComponent($(t),e)},a.prototype.setRawRange=function(t){var e=this.option,i=this.settledOption;R([["start","startValue"],["end","endValue"]],function(r){(t[r[0]]!=null||t[r[1]]!=null)&&(e[r[0]]=i[r[0]]=t[r[0]],e[r[1]]=i[r[1]]=t[r[1]])},this),this._updateRangeUse(t)},a.prototype.setCalculatedRange=function(t){var e=this.option;R(["start","startValue","end","endValue"],function(i){e[i]=t[i]})},a.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},a.prototype.getValueRange=function(t,e){if(t==null&&e==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,e).getDataValueWindow()},a.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,i=this._targetAxisInfoMap.keys(),r=0;r<i.length;r++)for(var o=i[r],n=this._targetAxisInfoMap.get(o),u=0;u<n.indexList.length;u++){var l=this.getAxisProxy(o,n.indexList[u]);if(l.hostedBy(this))return l;e||(e=l)}return e},a.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},a.prototype.getOrient=function(){return this._orient},a.type="dataZoom",a.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],a.defaultOption={z:4,filterMode:"filter",start:0,end:100},a})(ia);function oe(s){var a={};return R(["start","end","startValue","endValue","throttle"],function(t){s.hasOwnProperty(t)&&(a[t]=s[t])}),a}var Te=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,e,i,r){this.dataZoomModel=t,this.ecModel=e,this.api=i},a.type="dataZoom",a})(oa),K=R,ne=it,Ka=(function(){function s(a,t,e,i){this._dimName=a,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=e}return s.prototype.hostedBy=function(a){return this._dataZoomModel===a},s.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},s.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},s.prototype.getTargetSeriesModels=function(){var a=[];return this.ecModel.eachSeries(function(t){if(ja(t)){var e=$(this._dimName),i=t.getReferringComponents(e,Pt).models[0];i&&this._axisIndex===i.componentIndex&&a.push(t)}},this),a},s.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},s.prototype.getMinMaxSpan=function(){return ye(this._minMaxSpan)},s.prototype.calculateDataWindow=function(a){var t=this._dataExtent,e=this.getAxisModel(),i=e.axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],n=[],u=[],l;K(["start","end"],function(f,c){var p=a[f],d=a[f+"Value"];r[c]==="percent"?(p==null&&(p=o[c]),d=i.parse(V(p,o,t))):(l=!0,d=d==null?t[c]:i.parse(d),p=V(d,t,o)),u[c]=d==null||isNaN(d)?t[c]:d,n[c]=p==null||isNaN(p)?o[c]:p}),ne(u),ne(n);var h=this._minMaxSpan;l?v(u,n,t,o,!1):v(n,u,o,t,!0);function v(f,c,p,d,y){var m=y?"Span":"ValueSpan";dt(0,f,p,"all",h["min"+m],h["max"+m]);for(var g=0;g<2;g++)c[g]=V(f[g],p,d,!0),y&&(c[g]=i.parse(c[g]))}return{valueWindow:u,percentWindow:n}},s.prototype.reset=function(a){if(a===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Qa(this,this._dimName,t),this._updateMinMaxSpan();var e=this.calculateDataWindow(a.settledOption);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,this._setAxisModel()}},s.prototype.filterData=function(a,t){if(a!==this._dataZoomModel)return;var e=this._dimName,i=this.getTargetSeriesModels(),r=a.get("filterMode"),o=this._valueWindow;if(r==="none")return;K(i,function(u){var l=u.getData(),h=l.mapDimensionsAll(e);if(h.length){if(r==="weakFilter"){var v=l.getStore(),f=pt(h,function(c){return l.getDimensionIndex(c)},l);l.filterSelf(function(c){for(var p,d,y,m=0;m<h.length;m++){var g=v.get(f[m],c),_=!isNaN(g),M=g<o[0],b=g>o[1];if(_&&!M&&!b)return!0;_&&(y=!0),M&&(p=!0),b&&(d=!0)}return y&&p&&d})}else K(h,function(c){if(r==="empty")u.setData(l=l.map(c,function(d){return n(d)?d:NaN}));else{var p={};p[c]=o,l.selectRange(p)}});K(h,function(c){l.setApproximateExtent(o,c)})}});function n(u){return u>=o[0]&&u<=o[1]}},s.prototype._updateMinMaxSpan=function(){var a=this._minMaxSpan={},t=this._dataZoomModel,e=this._dataExtent;K(["min","max"],function(i){var r=t.get(i+"Span"),o=t.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?r=V(e[0]+o,e,[0,100],!0):r!=null&&(o=V(r,[0,100],e,!0)-e[0]),a[i+"Span"]=r,a[i+"ValueSpan"]=o},this)},s.prototype._setAxisModel=function(){var a=this.getAxisModel(),t=this._percentWindow,e=this._valueWindow;if(t){var i=na(e,[0,500]);i=Math.min(i,20);var r=a.axis.scale.rawExtentInfo;t[0]!==0&&r.setDeterminedMinMax("min",+e[0].toFixed(i)),t[1]!==100&&r.setDeterminedMinMax("max",+e[1].toFixed(i)),r.freeze()}},s})();function Qa(s,a,t){var e=[1/0,-1/0];K(t,function(o){sa(e,o.getData(),a)});var i=s.getAxisModel(),r=la(i.axis.scale,i,e).calculate();return[r.min,r.max]}var tr={getTargetSeries:function(s){function a(i){s.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(o,n){var u=s.getComponent($(o),n);i(o,n,u,r)})})}a(function(i,r,o,n){o.__dzAxisProxy=null});var t=[];a(function(i,r,o,n){o.__dzAxisProxy||(o.__dzAxisProxy=new Ka(i,r,n,s),t.push(o.__dzAxisProxy))});var e=j();return R(t,function(i){R(i.getTargetSeriesModels(),function(r){e.set(r.uid,r)})}),e},overallReset:function(s,a){s.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,i){t.getAxisProxy(e,i).reset(t)}),t.eachTargetAxis(function(e,i){t.getAxisProxy(e,i).filterData(t,a)})}),s.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var i=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]})}})}};function er(s){s.registerAction("dataZoom",function(a,t){var e=Ja(t,a);R(e,function(i){i.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})}var se=!1;function Le(s){se||(se=!0,s.registerProcessor(s.PRIORITY.PROCESSOR.FILTER,tr),er(s),s.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}var ar=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.type="dataZoom.inside",a.defaultOption=Se(ct.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),a})(ct),Et=ua();function rr(s,a,t){Et(s).coordSysRecordMap.each(function(e){var i=e.dataZoomInfoMap.get(a.uid);i&&(i.getRange=t)})}function ir(s,a){for(var t=Et(s).coordSysRecordMap,e=t.keys(),i=0;i<e.length;i++){var r=e[i],o=t.get(r),n=o.dataZoomInfoMap;if(n){var u=a.uid,l=n.get(u);l&&(n.removeKey(u),n.keys().length||Re(t,o))}}}function Re(s,a){if(a){s.removeKey(a.model.uid);var t=a.controller;t&&t.dispose()}}function or(s,a){var t={model:a,containsPoint:Ut(sr,a),dispatchAction:Ut(nr,s),dataZoomInfoMap:null,controller:null},e=t.controller=new $a(s.getZr());return R(["pan","zoom","scrollMove"],function(i){e.on(i,function(r){var o=[];t.dataZoomInfoMap.each(function(n){if(r.isAvailableBehavior(n.model.option)){var u=(n.getRange||{})[i],l=u&&u(n.dzReferCoordSysInfo,t.model.mainType,t.controller,r);!n.model.get("disabled",!0)&&l&&o.push({dataZoomId:n.model.id,start:l[0],end:l[1]})}}),o.length&&t.dispatchAction(o)})}),t}function nr(s,a){s.isDisposed()||s.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:a})}function sr(s,a,t,e){return s.coordinateSystem.containPoint([t,e])}function lr(s){var a,t="type_",e={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return s.each(function(r){var o=r.model,n=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;e[t+n]>e[t+a]&&(a=n),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:a,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function ur(s){s.registerProcessor(s.PRIORITY.PROCESSOR.FILTER,function(a,t){var e=Et(t),i=e.coordSysRecordMap||(e.coordSysRecordMap=j());i.each(function(r){r.dataZoomInfoMap=null}),a.eachComponent({mainType:"dataZoom",subType:"inside"},function(r){var o=Pe(r);R(o.infoList,function(n){var u=n.model.uid,l=i.get(u)||i.set(u,or(t,n.model)),h=l.dataZoomInfoMap||(l.dataZoomInfoMap=j());h.set(r.uid,{dzReferCoordSysInfo:n,model:r,getRange:null})})}),i.each(function(r){var o=r.controller,n,u=r.dataZoomInfoMap;if(u){var l=u.keys()[0];l!=null&&(n=u.get(l))}if(!n){Re(i,r);return}var h=lr(u);o.enable(h.controlType,h.opt),o.setPointerChecker(r.containsPoint),Me(r,"dispatchAction",n.model.get("throttle",!0),"fixRate")})})}var hr=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return a.prototype.render=function(t,e,i){if(s.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),rr(i,t,{pan:L(wt.pan,this),zoom:L(wt.zoom,this),scrollMove:L(wt.scrollMove,this)})},a.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){ir(this.api,this.dataZoomModel),this.range=null},a.type="dataZoom.inside",a})(Te),wt={zoom:function(s,a,t,e){var i=this.range,r=i.slice(),o=s.axisModels[0];if(o){var n=At[a](null,[e.originX,e.originY],o,t,s),u=(n.signal>0?n.pixelStart+n.pixelLength-n.pixel:n.pixel-n.pixelStart)/n.pixelLength*(r[1]-r[0])+r[0],l=Math.max(1/e.scale,0);r[0]=(r[0]-u)*l+u,r[1]=(r[1]-u)*l+u;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(dt(0,r,[0,100],0,h.minSpan,h.maxSpan),this.range=r,i[0]!==r[0]||i[1]!==r[1])return r}},pan:le(function(s,a,t,e,i,r){var o=At[e]([r.oldX,r.oldY],[r.newX,r.newY],a,i,t);return o.signal*(s[1]-s[0])*o.pixel/o.pixelLength}),scrollMove:le(function(s,a,t,e,i,r){var o=At[e]([0,0],[r.scrollDelta,r.scrollDelta],a,i,t);return o.signal*(s[1]-s[0])*r.scrollDelta})};function le(s){return function(a,t,e,i){var r=this.range,o=r.slice(),n=a.axisModels[0];if(n){var u=s(o,n,a,t,e,i);if(dt(u,o,[0,100],"all"),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}}}var At={grid:function(s,a,t,e,i){var r=t.axis,o={},n=i.model.coordinateSystem.getRect();return s=s||[0,0],r.dim==="x"?(o.pixel=a[0]-s[0],o.pixelLength=n.width,o.pixelStart=n.x,o.signal=r.inverse?1:-1):(o.pixel=a[1]-s[1],o.pixelLength=n.height,o.pixelStart=n.y,o.signal=r.inverse?-1:1),o},polar:function(s,a,t,e,i){var r=t.axis,o={},n=i.model.coordinateSystem,u=n.getRadiusAxis().getExtent(),l=n.getAngleAxis().getExtent();return s=s?n.pointToCoord(s):[0,0],a=n.pointToCoord(a),t.mainType==="radiusAxis"?(o.pixel=a[0]-s[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=r.inverse?1:-1):(o.pixel=a[1]-s[1],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=r.inverse?-1:1),o},singleAxis:function(s,a,t,e,i){var r=t.axis,o=i.model.coordinateSystem.getRect(),n={};return s=s||[0,0],r.orient==="horizontal"?(n.pixel=a[0]-s[0],n.pixelLength=o.width,n.pixelStart=o.x,n.signal=r.inverse?1:-1):(n.pixel=a[1]-s[1],n.pixelLength=o.height,n.pixelStart=o.y,n.signal=r.inverse?-1:1),n}};function vr(s){Le(s),s.registerComponentModel(ar),s.registerComponentView(hr),ur(s)}var fr=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.type="dataZoom.slider",a.layoutMode="box",a.defaultOption=Se(ct.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),a})(ct),at=lt,ue=7,cr=1,Dt=30,pr=7,rt="horizontal",he="vertical",dr=5,gr=["line","bar","candlestick","scatter"],mr={easing:"cubicOut",duration:100,delay:0},yr=(function(s){N(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t._displayables={},t}return a.prototype.init=function(t,e){this.api=e,this._onBrush=L(this._onBrush,this),this._onBrushEnd=L(this._onBrushEnd,this)},a.prototype.render=function(t,e,i,r){if(s.prototype.render.apply(this,arguments),Me(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!r||r.type!=="dataZoom"||r.from!==this.uid)&&this._buildView(),this._updateView()},a.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){ha(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},a.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new tt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},a.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,i=t.get("brushSelect"),r=i?pr:0,o=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},u=this._orient===rt?{right:n.width-o.x-o.width,top:n.height-Dt-ue-r,width:o.width,height:Dt}:{right:ue,top:o.y,width:Dt,height:o.height},l=va(t.option);R(["right","top","width","height"],function(v){l[v]==="ph"&&(l[v]=u[v])});var h=fa(l,n);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===he&&this._size.reverse()},a.prototype._positionGroup=function(){var t=this.group,e=this._location,i=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),o=r&&r.get("inverse"),n=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(i===rt&&!o?{scaleY:u?1:-1,scaleX:1}:i===rt&&o?{scaleY:u?1:-1,scaleX:-1}:i===he&&!o?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var l=t.getBoundingRect([n]);t.x=e.x-l.x,t.y=e.y-l.y,t.markRedraw()},a.prototype._getViewExtent=function(){return[0,this._size[0]]},a.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.sliderGroup,r=t.get("brushSelect");i.add(new at({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new at({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:L(this._onClickPanel,this)}),n=this.api.getZr();r?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",n.on("mousemove",this._onBrush),n.on("mouseup",this._onBrushEnd)):(n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)),i.add(o)},a.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var e=this._size,i=this._shadowSize||[],r=t.series,o=r.getRawData(),n=r.getShadowDim&&r.getShadowDim(),u=n&&o.getDimensionInfo(n)?r.getShadowDim():t.otherDim;if(u==null)return;var l=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||u!==this._shadowDim||e[0]!==i[0]||e[1]!==i[1]){var v=o.getDataExtent(u),f=(v[1]-v[0])*.3;v=[v[0]-f,v[1]+f];var c=[0,e[1]],p=[0,e[0]],d=[[e[0],0],[0,0]],y=[],m=p[1]/(o.count()-1),g=0,_=Math.round(o.count()/e[0]),M;o.each([u],function(A,x){if(_>0&&x%_){g+=m;return}var D=A==null||isNaN(A)||A==="",I=D?0:V(A,v,c,!0);D&&!M&&x?(d.push([d[d.length-1][0],0]),y.push([y[y.length-1][0],0])):!D&&M&&(d.push([g,0]),y.push([g,0])),d.push([g,I]),y.push([g,I]),g+=m,M=D}),l=this._shadowPolygonPts=d,h=this._shadowPolylinePts=y}this._shadowData=o,this._shadowDim=u,this._shadowSize=[e[0],e[1]];var b=this.dataZoomModel;function w(A){var x=b.getModel(A?"selectedDataBackground":"dataBackground"),D=new tt,I=new _a({shape:{points:l},segmentIgnoreThreshold:1,style:x.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),T=new ba({shape:{points:h},segmentIgnoreThreshold:1,style:x.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(I),D.add(T),D}for(var S=0;S<3;S++){var P=w(S===1);this._displayables.sliderGroup.add(P),this._displayables.dataShadowSegs.push(P)}},a.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var i,r=this.ecModel;return t.eachTargetAxis(function(o,n){var u=t.getAxisProxy(o,n).getTargetSeriesModels();R(u,function(l){if(!i&&!(e!==!0&&be(gr,l.get("type"))<0)){var h=r.getComponent($(o),n).axis,v=_r(o),f,c=l.coordinateSystem;v!=null&&c.getOtherAxis&&(f=c.getOtherAxis(h).inverse),v=l.getData().mapDimension(v),i={thisAxis:h,series:l,thisDim:o,otherDim:v,otherAxisInverse:f}}},this)},this),i}},a.prototype._renderHandle=function(){var t=this.group,e=this._displayables,i=e.handles=[null,null],r=e.handleLabels=[null,null],o=this._displayables.sliderGroup,n=this._size,u=this.dataZoomModel,l=this.api,h=u.get("borderRadius")||0,v=u.get("brushSelect"),f=e.filler=new at({silent:v,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new at({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:n[0],height:n[1],r:h},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:cr,fill:"rgba(0,0,0,0)"}})),R([0,1],function(_){var M=u.get("handleIcon");!ca[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var b=ot(M,-1,0,2,2,null,!0);b.attr({cursor:ve(this._orient),draggable:!0,drift:L(this._onDragMove,this,_),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),S=u.get("handleSize");this._handleHeight=Yt(S,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(u.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),pa(b);var P=u.get("handleColor");P!=null&&(b.style.fill=P),o.add(i[_]=b);var A=u.getModel("textStyle"),x=u.get("handleLabel")||{},D=x.show||!1;t.add(r[_]=new me({silent:!0,invisible:!D,style:da(A,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:A.getTextColor(),font:A.getFont()}),z2:10}))},this);var c=f;if(v){var p=Yt(u.get("moveHandleSize"),n[1]),d=e.moveHandle=new lt({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:n[1]-.5,height:p}}),y=p*.8,m=e.moveHandleIcon=ot(u.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);m.silent=!0,m.y=n[1]+p/2-.5,d.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(n[1]/2,Math.max(p,10));c=e.moveZone=new lt({invisible:!0,shape:{y:n[1]-g,height:p+g}}),c.on("mouseover",function(){l.enterEmphasis(d)}).on("mouseout",function(){l.leaveEmphasis(d)}),o.add(d),o.add(m),o.add(c)}c.attr({draggable:!0,cursor:ve(this._orient),drift:L(this._onDragMove,this,"all"),ondragstart:L(this._showDataInfo,this,!0),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1)})},a.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[V(t[0],[0,100],e,!0),V(t[1],[0,100],e,!0)]},a.prototype._updateInterval=function(t,e){var i=this.dataZoomModel,r=this._handleEnds,o=this._getViewExtent(),n=i.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];dt(e,r,o,i.get("zoomLock")?"all":t,n.minSpan!=null?V(n.minSpan,u,o,!0):null,n.maxSpan!=null?V(n.maxSpan,u,o,!0):null);var l=this._range,h=this._range=it([V(r[0],o,u,!0),V(r[1],o,u,!0)]);return!l||l[0]!==h[0]||l[1]!==h[1]},a.prototype._updateView=function(t){var e=this._displayables,i=this._handleEnds,r=it(i.slice()),o=this._size;R([0,1],function(c){var p=e.handles[c],d=this._handleHeight;p.attr({scaleX:d/2,scaleY:d/2,x:i[c]+(c?-1:1),y:o[1]/2-d/2})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:o[1]});var n={x:r[0],width:r[1]-r[0]};e.moveHandle&&(e.moveHandle.setShape(n),e.moveZone.setShape(n),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",n.x+n.width/2));for(var u=e.dataShadowSegs,l=[0,r[0],r[1],o[0]],h=0;h<u.length;h++){var v=u[h],f=v.getClipPath();f||(f=new lt,v.setClipPath(f)),f.setShape({x:l[h],y:0,width:l[h+1]-l[h],height:o[1]})}this._updateDataInfo(t)},a.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,i=this._displayables,r=i.handleLabels,o=this._orient,n=["",""];if(e.get("showDetail")){var u=e.findRepresentativeAxisProxy();if(u){var l=u.getAxisModel().axis,h=this._range,v=t?u.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:u.getDataValueWindow();n=[this._formatLabel(v[0],l),this._formatLabel(v[1],l)]}}var f=it(this._handleEnds.slice());c.call(this,0),c.call(this,1);function c(p){var d=ga(i.handles[p].parent,this.group),y=ma(p===0?"right":"left",d),m=this._handleWidth/2+dr,g=$t([f[p]+(p===0?-m:m),this._size[1]/2],d);r[p].setStyle({x:g[0],y:g[1],verticalAlign:o===rt?"middle":y,align:o===rt?y:"center",text:n[p]})}},a.prototype._formatLabel=function(t,e){var i=this.dataZoomModel,r=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=e.getPixelPrecision());var n=t==null||isNaN(t)?"":e.type==="category"||e.type==="time"?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return st(r)?r(t,n):_e(r)?r.replace("{value}",n):n},a.prototype._showDataInfo=function(t){var e=this.dataZoomModel.get("handleLabel")||{},i=e.show||!1,r=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=r.get("show")||!1,n=t||this._dragging?o:i,u=this._displayables,l=u.handleLabels;l[0].attr("invisible",!n),l[1].attr("invisible",!n),u.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](u.moveHandle,1)},a.prototype._onDragMove=function(t,e,i,r){this._dragging=!0,ft(r.event);var o=this._displayables.sliderGroup.getLocalTransform(),n=$t([e,i],o,!0),u=this._updateInterval(t,n[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),u&&l&&this._dispatchZoomAction(!0)},a.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},a.prototype._onClickPanel=function(t){var e=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var r=this._handleEnds,o=(r[0]+r[1])/2,n=this._updateInterval("all",i[0]-o);this._updateView(),n&&this._dispatchZoomAction(!1)}},a.prototype._onBrushStart=function(t){var e=t.offsetX,i=t.offsetY;this._brushStart=new ya(e,i),this._brushing=!0,this._brushStartTime=+new Date},a.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,!!e){e.attr("ignore",!0);var i=e.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),n=[0,100];this._range=it([V(i.x,o,n,!0),V(i.x+i.width,o,n,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},a.prototype._onBrush=function(t){this._brushing&&(ft(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},a.prototype._updateBrushRect=function(t,e){var i=this._displayables,r=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new at({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var n=this._brushStart,u=this._displayables.sliderGroup,l=u.transformCoordToLocal(t,e),h=u.transformCoordToLocal(n.x,n.y),v=this._size;l[0]=Math.max(Math.min(v[0],l[0]),0),o.setShape({x:h[0],y:0,width:l[0]-h[0],height:v[1]})},a.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?mr:null,start:e[0],end:e[1]})},a.prototype._findCoordRect=function(){var t,e=Pe(this.dataZoomModel).infoList;if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var r=this.api.getWidth(),o=this.api.getHeight();t={x:r*.2,y:o*.2,width:r*.6,height:o*.6}}return t},a.type="dataZoom.slider",a})(Te);function _r(s){var a={x:"y",y:"x",radius:"angle",angle:"radius"};return a[s]}function ve(s){return s==="vertical"?"ns-resize":"ew-resize"}function br(s){s.registerComponentModel(fr),s.registerComponentView(yr),Le(s)}function Sr(s){Tt(vr),Tt(br)}Tt([Ua,wa,Aa,Sr,Da]);function Ar({data:s,chartMetric:a,movingAverageWindow:t,useLogScale:e,zoomStart:i,zoomEnd:r,onZoomChange:o}){const n=Ot.useMemo(()=>{const l=s.map(f=>f.date),h=s.map(f=>a==="volume"?f.volume:f.count),v=t>0?s.map(f=>a==="volume"?f.avgVolume:f.avgCount):[];return{grid:{left:"3%",right:"4%",bottom:"15%",top:"10%",containLabel:!0},xAxis:{type:"category",data:l,axisLabel:{rotate:45,fontSize:10,color:"#9ca3af"},axisLine:{lineStyle:{color:"#374151"}}},yAxis:{type:e&&a==="count"?"log":"value",axisLabel:{fontSize:10,color:"#9ca3af",formatter:f=>a==="volume"?f<.001?f.toExponential(1):f.toFixed(3):f<1?f.toFixed(1):Math.round(f).toString()},axisLine:{lineStyle:{color:"#374151"}},splitLine:{lineStyle:{color:"#374151",type:"dashed"}}},tooltip:{trigger:"axis",backgroundColor:"#1f2937",borderColor:"#374151",textStyle:{color:"#fff",fontSize:12},formatter:f=>{let p=`${f[0].axisValue}<br/>`;return f.forEach(d=>{const y=d.value;d.seriesName.includes("Average")?p+=`${d.marker} ${d.seriesName}: ${a==="volume"?y?.toFixed(8)+" BTC":y?.toFixed(1)+" transactions"}<br/>`:p+=`${d.marker} ${d.seriesName}: ${a==="volume"?y.toFixed(8)+" BTC":Math.round(y)+" transactions"}<br/>`}),p}},series:[{name:a==="volume"?"Volume":"Transactions",type:"line",data:h,smooth:!0,symbol:"none",lineStyle:{color:"#3b82f6",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.8)"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}]}}},...t>0&&v.length>0?[{name:`${t}-Day Average`,type:"line",data:v,smooth:!0,symbol:"none",lineStyle:{color:"#059669",width:3,type:"dashed"}}]:[]]}},[s,a,t,e]),u=Ot.useMemo(()=>({...n,dataZoom:[{type:"slider",start:i,end:r,height:25,bottom:10,borderColor:"#3b82f6",fillerColor:"rgba(59, 130, 246, 0.2)",handleStyle:{color:"#3b82f6"},moveHandleSize:10,textStyle:{color:"#9ca3af",fontSize:10}}]}),[n,i,r]);return Ce.jsx(Sa,{echarts:Ma,option:u,notMerge:!1,lazyUpdate:!0,style:{height:"400px",width:"100%"},opts:{renderer:"canvas"},onEvents:{dataZoom:l=>{if(l.batch&&l.batch[0]){const h=l.batch[0].start,v=l.batch[0].end;h!==void 0&&v!==void 0&&o(h,v)}else l.start!==void 0&&l.end!==void 0&&o(l.start,l.end)}}})}export{Ar as TransactionChart};
